import{_ as s,c as i,o as a,a5 as n}from"./chunks/framework.CkGECXPw.js";const t="/my-blog/assets/image-8.CvL73c_B.png",e="data:image/png;base64,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",l="/my-blog/assets/image-39.Ch7Ht-Z2.png",p="/my-blog/assets/image-46.B-jxtMcz.png",h="/my-blog/assets/image-45.BHd364rt.png",k="/my-blog/assets/image-44.FuAGF5Tw.png",r="/my-blog/assets/image-56.drfsLCSN.png",d="/my-blog/assets/image-48.CqqCVKYS.png",o="/my-blog/assets/image-55.BPIQ1CaH.png",c="/my-blog/assets/image-50.CLzhYyD_.png",g=JSON.parse('{"title":"4、前端规范工程-4：Git提交前代码规范检查（Husky + Lint-staged）","description":"在前端项目开发中，规范`git`提交信息，也是经常使用的手段，如何确保团队成员都遵循`ESint`规则，且不会将不符合规范的代码推送到Git仓库？","frontmatter":{"title":"4、前端规范工程-4：Git提交前代码规范检查（Husky + Lint-staged）","description":"在前端项目开发中，规范`git`提交信息，也是经常使用的手段，如何确保团队成员都遵循`ESint`规则，且不会将不符合规范的代码推送到Git仓库？"},"headers":[],"relativePath":"pages/前端工程/前端规范工程-4：Git提交前代码规范检查（Husky + Lint-staged）.md","filePath":"pages/前端工程/前端规范工程-4：Git提交前代码规范检查（Husky + Lint-staged）.md","lastUpdated":1728131309000}'),E={name:"pages/前端工程/前端规范工程-4：Git提交前代码规范检查（Husky + Lint-staged）.md"},u=n('<h1 id="_4、前端规范工程-4-git提交前代码规范检查-husky-lint-staged" tabindex="-1">4、前端规范工程-4：Git提交前代码规范检查（Husky + Lint-staged） <a class="header-anchor" href="#_4、前端规范工程-4-git提交前代码规范检查-husky-lint-staged" aria-label="Permalink to &quot;4、前端规范工程-4：Git提交前代码规范检查（Husky + Lint-staged）&quot;">​</a></h1><nav class="table-of-contents"><ul><li><a href="#git提交前代码规范检查">Git提交前代码规范检查</a></li><li><a href="#git-hooks是什么">git hooks是什么?</a></li><li><a href="#husky是什么">husky是什么？</a></li><li><a href="#需要下载的插件">需要下载的插件</a><ul><li><a href="#_1、husky-操作-git-钩子的工具">1、husky（操作 git 钩子的工具）</a></li><li><a href="#_2、设置git-hooks">2、设置git hooks</a></li></ul></li><li><a href="#pre-commit">pre-commit</a><ul><li><a href="#安装">安装</a></li><li><a href="#修改pre-commit文件内容">修改pre-commit文件内容</a></li><li><a href="#在package-json文件中添加scripts脚本">在package.json文件中添加scripts脚本</a></li><li><a href="#新增-lint-staged-config-cjs-文件">新增 lint-staged.config.cjs 文件</a></li></ul></li><li><a href="#测试">测试</a><ul><li><a href="#后续篇章讲解">后续篇章讲解</a></li></ul></li></ul></nav><h2 id="git提交前代码规范检查" tabindex="-1">Git提交前代码规范检查 <a class="header-anchor" href="#git提交前代码规范检查" aria-label="Permalink to &quot;Git提交前代码规范检查&quot;">​</a></h2><p>在前端项目开发中，规范<code>git</code>提交信息，也是经常使用的手段，如何确保团队成员都遵循<code>ESint</code>规则，且不会将不符合规范的代码推送到Git仓库？</p><p><img src="'+t+`" alt="alt text" loading="lazy"></p><p>答案是：使用带有<code>git hooks</code>功能的<code>husky</code>。<code>git hooks</code>是<code>git</code>内置的功能，它会在执行Git命令之前（或之后）进行一些其它操作。例如ESLint规则校验。<code>husky</code>依靠<code>git hooks</code>来触发<code>EsLint</code>规则校验，并确保团队成员提交和推送代码到<code>git</code>之前的代码无任何问题。</p><h2 id="git-hooks是什么" tabindex="-1">git hooks是什么? <a class="header-anchor" href="#git-hooks是什么" aria-label="Permalink to &quot;git hooks是什么?&quot;">​</a></h2><p><code>git hooks</code>是<code>git</code>在触发事件（例如：commit、push、receive）之前或之后执行的一组脚本，<code>git hooks</code>是git内置的功能，当在项目中使用 <code>git init</code>初始化<code>git</code>时就会自动添加<code>git hooks</code>，我们可以在<code>/.git/hooks</code>文件夹下找到每个事件的示例文件。</p><h2 id="husky是什么" tabindex="-1">husky是什么？ <a class="header-anchor" href="#husky是什么" aria-label="Permalink to &quot;husky是什么？&quot;">​</a></h2><p>需要注意的是，<code>git hooks</code>不受版本控制，即不会提交到<code>git</code>仓库中，我们添加到<code>/.git/hooks</code>文件夹中的文件只会在本地。</p><p>那么，当团队成员克隆仓库时不会自动将我们自定义的<code>git hooks</code>下载到本地，我们又如何确保每个团队成员都执行<code>hooks</code>？解决这个问题的办法就是使用<code>husky</code>。</p><p><code>husky</code>使<code>git hooks</code>更易于管理，因为我们不必手动编写代码，我们只需要在<code>husky</code>提供的配置文件中添加想要执行的命令，例如提交之前运行<code>ESLint</code>，除此之外的一切都由<code>husky</code>处理。</p><h2 id="需要下载的插件" tabindex="-1">需要下载的插件 <a class="header-anchor" href="#需要下载的插件" aria-label="Permalink to &quot;需要下载的插件&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">依赖</th><th style="text-align:right;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">husky</td><td style="text-align:right;">操作 git hooks的工具，更方便的管理 git hooks 脚本</td></tr><tr><td style="text-align:left;">lint-staged</td><td style="text-align:right;">在提交之前进行 eslint 校验</td></tr></tbody></table><h3 id="_1、husky-操作-git-钩子的工具" tabindex="-1">1、husky（操作 git 钩子的工具） <a class="header-anchor" href="#_1、husky-操作-git-钩子的工具" aria-label="Permalink to &quot;1、husky（操作 git 钩子的工具）&quot;">​</a></h3><p><strong>安装husky</strong></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;husky&quot;: &quot;^9.1.6&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> husky</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>husky init</strong></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> husky</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>init</code> 命令简化了项目中的 <code>husky</code> 设置。它会在 <code>.husky/</code> 中创建 <code>pre-commit</code> 脚本：</p><p><img src="`+e+`" alt="alt text" loading="lazy"></p><p>并更新 <code>package.json</code> 中的 <code>prepare</code> 脚本：</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...其他代码</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;prepare&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;husky&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>随后可根据你的工作流进行修改。</p><h3 id="_2、设置git-hooks" tabindex="-1">2、设置<code>git hooks</code> <a class="header-anchor" href="#_2、设置git-hooks" aria-label="Permalink to &quot;2、设置\`git hooks\`&quot;">​</a></h3><p><code>husky</code>安装完成，并配置好脚本后，我们就可以进行 <code>git hooks</code> 的设置。</p><p><code>git hooks</code>让我们能够在<code>git</code>操作的特定命令发生时自动执行自定义的脚本，用来完成一些额外的事情。</p><p>而我们在<code>git</code>提交信息的规范中，一般常用的两个阶段是：<strong>pre-commit</strong> 和 <strong>commit-msg</strong></p><p>除此以外，<code>git hooks</code>还有多个阶段，可以在需要的时候启用，比如以下这些：</p><ul><li><code>pre-receive</code>：从本地版本完成一个推送后</li><li><code>prepare-commit-msg</code>：信息准备完成后但编辑尚未启动</li><li><code>pre-push</code>：<code>push</code> 之前执行</li><li><code>post-update</code>：在工作区更新完成后执行</li><li><code>pre-rebase</code>：在<code>rebase</code>操作之前执行</li></ul><h2 id="pre-commit" tabindex="-1">pre-commit <a class="header-anchor" href="#pre-commit" aria-label="Permalink to &quot;pre-commit&quot;">​</a></h2><p>上面介绍中，提到<code>husky</code>工具会在根目录下生成 <code>.husky</code> 目录，保存有<code>husky</code>的基本配置。要想配置 <code>git hooks</code>，还得在这个目录下进行操作，可以采取下面两种方式。</p><ol><li>我们可以在刚刚生产的 <code>.husky</code> 目录下的<code>pre-commit</code>文件中添加以下代码，<strong>注意无后缀名</strong>，默认生产的<code>pre-commit</code>有<code>pnpm test</code>内容，将其删除改成以下内容：</li></ol><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint:eslint</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>使用脚本命令生成<code>pre-commit</code>文件及其内容：</li></ol><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># V9</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;pnpm run lint:eslint&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .husky/pre-commit</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>该脚本执行后，将在 <code>.husky</code> 目录下自动生成 <code>pre-commit</code> 文件（如果有则覆盖），并且写入对应的脚本命令：<code>pnpm run lint:eslint</code>，内容与上面的第一种方式一样。</p><p>完成以上操作后，当我们执行 <code>git commit</code> 命令时，就会自动执行<code>eslint</code>命令。除了<code>eslint</code>，我们也可以配置其他诸如 <code>stylelint</code>、<code>prettier</code> 等。</p><ol start="3"><li>如果执行失败，如下图：</li></ol><p><img src="`+l+`" alt="alt text" loading="lazy"></p><p>应该重新执行<code>pnpm exec husky init</code>，这个错误通常是因为 <code>.husky/pre-commit</code> 脚本没有正确的执行权限或者文件格式不正确导致。</p><ol start="4"><li><code>lint-staged</code></li></ol><p>使用 <code>husky</code> 后，<code>ESLint</code>会在项目中的每个文件上都运行，这是个非常糟糕的主意。因为在未更改的代码上运行<code>ESLint</code>可能会导致出乎预料的错误。</p><p>对于大型项目，在每个文件上运行<code>ESLint</code>可能会消耗大量的时间。同样，在旧项目中消耗时间解决<code>ESLint</code>抛出的问题而不是研发新功能，是没意义的事。</p><p>那么，我们如何只在我们<strong>更改的代码</strong>上运行 <code>ESLint</code>?</p><p>答案是<strong>lint-staged</strong>。它的作用是<strong>只在当前提交中对已更改的文件运行</strong> <code>pre-commit hooks</code>。并且还能对代码进行更多的设置，比如使用 <code>prettier</code> 格式化代码</p><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint-staged</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="修改pre-commit文件内容" tabindex="-1">修改<code>pre-commit</code>文件内容 <a class="header-anchor" href="#修改pre-commit文件内容" aria-label="Permalink to &quot;修改\`pre-commit\`文件内容&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint:lint-staged</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="在package-json文件中添加scripts脚本" tabindex="-1">在package.json文件中添加scripts脚本 <a class="header-anchor" href="#在package-json文件中添加scripts脚本" aria-label="Permalink to &quot;在package.json文件中添加scripts脚本&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //其他代码省略</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;lint:lint-staged&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lint-staged&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="新增-lint-staged-config-cjs-文件" tabindex="-1">新增 lint-staged.config.cjs 文件 <a class="header-anchor" href="#新增-lint-staged-config-cjs-文件" aria-label="Permalink to &quot;新增 lint-staged.config.cjs 文件&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;*.{js,jsx,ts,tsx}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eslint --fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;{!(package)*.json,*.code-snippets,.!(browserslist)*rc}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write--parser json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;package.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;*.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eslint --fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stylelint --fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;*.{scss,less,styl,html}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stylelint --fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;*.md&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>如果仅仅只是简单配置一下<code>lint-staged</code>，也可以直接在<code>package.json</code>文件中进行配置</p><blockquote><p><code>.cjs</code> 文件其实就是<code>js</code>文件，只是更加明显的说明这是一个模块文件，并且模块声明遵循的是<code>CommonJS的标准</code>。因此同理，也有 <code>.mjs</code> 的文件，表明这个文件是遵循<code>ESM标准</code>（ECMAScript Modules）的模块文件。</p></blockquote><p><strong>简单图示</strong></p><ol><li>.JS (JavaScript):</li></ol><p><img src="`+p+'" alt="alt text" loading="lazy"></p><ol start="2"><li>CJS (CommonJS):</li></ol><p><img src="'+h+'" alt="alt text" loading="lazy"></p><ol start="3"><li>MJS (ECMAScript Modules)：</li></ol><p><img src="'+k+'" alt="alt text" loading="lazy"></p><h2 id="测试" tabindex="-1">测试 <a class="header-anchor" href="#测试" aria-label="Permalink to &quot;测试&quot;">​</a></h2><p>完成了上面的所有步骤，执行命令测试</p><p><img src="'+r+`" alt="alt text" loading="lazy"></p><p>代码示例：</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 求limit范围内的质数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> noA </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sieveOfEratosthenes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numRes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isPrime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> limit; num</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (isPrime[num]) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num; multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> limit; multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        isPrime[multiple] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime[num]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>注意必须先<code>git add .</code>，否则命令会提示<code>→ No staged files found.</code></p><p><code>git add .</code> 之后，我们使用<code>git commit</code>提交，触发<code>pre-commit</code>钩子，看看会出现什么情况</p><p><img src="`+d+'" alt="alt text" loading="lazy"></p><p>在<code>git commit</code>的时候，之前我们在<code>.eslintrc.cjs</code>中定义为<code>error</code>的项，直接帮我们定义错误，由于前面已经做过了格式化处理，所以这里只是显示了一些错误警告，图中提示代码中有2个未使用的变量，修改后：</p><p><img src="'+o+`" alt="alt text" loading="lazy"></p><p>代码示例：</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// test.js</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 求limit范围内的质数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sieveOfEratosthenes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isPrime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> limit; num</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (isPrime[num]) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num; multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> limit; multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        isPrime[multiple] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime[num]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>按步骤执行命令，图示:</p><ol><li><code>git add . </code>: 提交修改；</li><li><code>git commit -m &quot;🔧 build(husky): husky+git hooks初步构建完成&quot;</code>：提交本次修改信息</li><li><code>pnpm run lint:lint-staged</code>：由于我们配置了<code>husky</code> ， <code>pre-commit</code> 会自动抓取<code>git hooks</code>的<code>commit</code>命令，从而触发执行 <code>pnpm run lint:lint-staged</code> 命令，并且 <code>lint-staged</code> 会根据 <code>lint-staged.config.cjs</code> 文件进行文件扫描吗，暂存提交的文件通过各项扫描后就会提交到本地仓库</li></ol><p><img src="`+c+'" alt="alt text" loading="lazy"></p><h3 id="后续篇章讲解" tabindex="-1">后续篇章讲解 <a class="header-anchor" href="#后续篇章讲解" aria-label="Permalink to &quot;后续篇章讲解&quot;">​</a></h3><p>也许你会发现，上图的 <code>git commit -m &quot;🔧 build(husky): husky+git hooks初步构建完成&quot;</code> —— 提交的内容信息比较规范。那么下一篇内容着重讲解 <code>git</code> 的提交规范。</p>',80),y=[u];function m(F,A,C,B,D,v){return a(),i("div",null,y)}const b=s(E,[["render",m]]),f=Object.freeze(Object.defineProperty({__proto__:null,__pageData:g,default:b},Symbol.toStringTag,{value:"Module"}));export{f as _,g as __pageData,b as default};
