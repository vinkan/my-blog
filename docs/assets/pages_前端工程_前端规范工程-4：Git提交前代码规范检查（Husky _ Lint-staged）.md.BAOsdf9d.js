import{_ as s,c as i,o as a,a5 as n}from"./chunks/framework.CkGECXPw.js";const t="/my-blog/assets/image-8.CvL73c_B.png",e="data:image/png;base64,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",l="/my-blog/assets/image-39.Ch7Ht-Z2.png",p="/my-blog/assets/image-46.B-jxtMcz.png",h="/my-blog/assets/image-45.BHd364rt.png",k="/my-blog/assets/image-44.FuAGF5Tw.png",r="/my-blog/assets/image-56.drfsLCSN.png",d="/my-blog/assets/image-48.CqqCVKYS.png",o="/my-blog/assets/image-55.BPIQ1CaH.png",c="/my-blog/assets/image-50.CLzhYyD_.png",g=JSON.parse('{"title":"4ã€å‰ç«¯è§„èŒƒå·¥ç¨‹-4ï¼šGitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆHusky + Lint-stagedï¼‰","description":"åœ¨å‰ç«¯é¡¹ç›®å¼€å‘ä¸­ï¼Œè§„èŒƒ`git`æäº¤ä¿¡æ¯ï¼Œä¹Ÿæ˜¯ç»å¸¸ä½¿ç”¨çš„æ‰‹æ®µï¼Œå¦‚ä½•ç¡®ä¿å›¢é˜Ÿæˆå‘˜éƒ½éµå¾ª`ESint`è§„åˆ™ï¼Œä¸”ä¸ä¼šå°†ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç æ¨é€åˆ°Gitä»“åº“ï¼Ÿ","frontmatter":{"title":"4ã€å‰ç«¯è§„èŒƒå·¥ç¨‹-4ï¼šGitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆHusky + Lint-stagedï¼‰","description":"åœ¨å‰ç«¯é¡¹ç›®å¼€å‘ä¸­ï¼Œè§„èŒƒ`git`æäº¤ä¿¡æ¯ï¼Œä¹Ÿæ˜¯ç»å¸¸ä½¿ç”¨çš„æ‰‹æ®µï¼Œå¦‚ä½•ç¡®ä¿å›¢é˜Ÿæˆå‘˜éƒ½éµå¾ª`ESint`è§„åˆ™ï¼Œä¸”ä¸ä¼šå°†ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç æ¨é€åˆ°Gitä»“åº“ï¼Ÿ"},"headers":[],"relativePath":"pages/å‰ç«¯å·¥ç¨‹/å‰ç«¯è§„èŒƒå·¥ç¨‹-4ï¼šGitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆHusky + Lint-stagedï¼‰.md","filePath":"pages/å‰ç«¯å·¥ç¨‹/å‰ç«¯è§„èŒƒå·¥ç¨‹-4ï¼šGitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆHusky + Lint-stagedï¼‰.md","lastUpdated":1728131309000}'),E={name:"pages/å‰ç«¯å·¥ç¨‹/å‰ç«¯è§„èŒƒå·¥ç¨‹-4ï¼šGitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆHusky + Lint-stagedï¼‰.md"},u=n('<h1 id="_4ã€å‰ç«¯è§„èŒƒå·¥ç¨‹-4-gitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥-husky-lint-staged" tabindex="-1">4ã€å‰ç«¯è§„èŒƒå·¥ç¨‹-4ï¼šGitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆHusky + Lint-stagedï¼‰ <a class="header-anchor" href="#_4ã€å‰ç«¯è§„èŒƒå·¥ç¨‹-4-gitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥-husky-lint-staged" aria-label="Permalink to &quot;4ã€å‰ç«¯è§„èŒƒå·¥ç¨‹-4ï¼šGitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆHusky + Lint-stagedï¼‰&quot;">â€‹</a></h1><nav class="table-of-contents"><ul><li><a href="#gitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥">Gitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥</a></li><li><a href="#git-hooksæ˜¯ä»€ä¹ˆ">git hooksæ˜¯ä»€ä¹ˆ?</a></li><li><a href="#huskyæ˜¯ä»€ä¹ˆ">huskyæ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li><a href="#éœ€è¦ä¸‹è½½çš„æ’ä»¶">éœ€è¦ä¸‹è½½çš„æ’ä»¶</a><ul><li><a href="#_1ã€husky-æ“ä½œ-git-é’©å­çš„å·¥å…·">1ã€huskyï¼ˆæ“ä½œ git é’©å­çš„å·¥å…·ï¼‰</a></li><li><a href="#_2ã€è®¾ç½®git-hooks">2ã€è®¾ç½®git hooks</a></li></ul></li><li><a href="#pre-commit">pre-commit</a><ul><li><a href="#å®‰è£…">å®‰è£…</a></li><li><a href="#ä¿®æ”¹pre-commitæ–‡ä»¶å†…å®¹">ä¿®æ”¹pre-commitæ–‡ä»¶å†…å®¹</a></li><li><a href="#åœ¨package-jsonæ–‡ä»¶ä¸­æ·»åŠ scriptsè„šæœ¬">åœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ scriptsè„šæœ¬</a></li><li><a href="#æ–°å¢-lint-staged-config-cjs-æ–‡ä»¶">æ–°å¢ lint-staged.config.cjs æ–‡ä»¶</a></li></ul></li><li><a href="#æµ‹è¯•">æµ‹è¯•</a><ul><li><a href="#åç»­ç¯‡ç« è®²è§£">åç»­ç¯‡ç« è®²è§£</a></li></ul></li></ul></nav><h2 id="gitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥" tabindex="-1">Gitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥ <a class="header-anchor" href="#gitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥" aria-label="Permalink to &quot;Gitæäº¤å‰ä»£ç è§„èŒƒæ£€æŸ¥&quot;">â€‹</a></h2><p>åœ¨å‰ç«¯é¡¹ç›®å¼€å‘ä¸­ï¼Œè§„èŒƒ<code>git</code>æäº¤ä¿¡æ¯ï¼Œä¹Ÿæ˜¯ç»å¸¸ä½¿ç”¨çš„æ‰‹æ®µï¼Œå¦‚ä½•ç¡®ä¿å›¢é˜Ÿæˆå‘˜éƒ½éµå¾ª<code>ESint</code>è§„åˆ™ï¼Œä¸”ä¸ä¼šå°†ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç æ¨é€åˆ°Gitä»“åº“ï¼Ÿ</p><p><img src="'+t+`" alt="alt text" loading="lazy"></p><p>ç­”æ¡ˆæ˜¯ï¼šä½¿ç”¨å¸¦æœ‰<code>git hooks</code>åŠŸèƒ½çš„<code>husky</code>ã€‚<code>git hooks</code>æ˜¯<code>git</code>å†…ç½®çš„åŠŸèƒ½ï¼Œå®ƒä¼šåœ¨æ‰§è¡ŒGitå‘½ä»¤ä¹‹å‰ï¼ˆæˆ–ä¹‹åï¼‰è¿›è¡Œä¸€äº›å…¶å®ƒæ“ä½œã€‚ä¾‹å¦‚ESLintè§„åˆ™æ ¡éªŒã€‚<code>husky</code>ä¾é <code>git hooks</code>æ¥è§¦å‘<code>EsLint</code>è§„åˆ™æ ¡éªŒï¼Œå¹¶ç¡®ä¿å›¢é˜Ÿæˆå‘˜æäº¤å’Œæ¨é€ä»£ç åˆ°<code>git</code>ä¹‹å‰çš„ä»£ç æ— ä»»ä½•é—®é¢˜ã€‚</p><h2 id="git-hooksæ˜¯ä»€ä¹ˆ" tabindex="-1">git hooksæ˜¯ä»€ä¹ˆ? <a class="header-anchor" href="#git-hooksæ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;git hooksæ˜¯ä»€ä¹ˆ?&quot;">â€‹</a></h2><p><code>git hooks</code>æ˜¯<code>git</code>åœ¨è§¦å‘äº‹ä»¶ï¼ˆä¾‹å¦‚ï¼šcommitã€pushã€receiveï¼‰ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œçš„ä¸€ç»„è„šæœ¬ï¼Œ<code>git hooks</code>æ˜¯gitå†…ç½®çš„åŠŸèƒ½ï¼Œå½“åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ <code>git init</code>åˆå§‹åŒ–<code>git</code>æ—¶å°±ä¼šè‡ªåŠ¨æ·»åŠ <code>git hooks</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>/.git/hooks</code>æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°æ¯ä¸ªäº‹ä»¶çš„ç¤ºä¾‹æ–‡ä»¶ã€‚</p><h2 id="huskyæ˜¯ä»€ä¹ˆ" tabindex="-1">huskyæ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#huskyæ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;huskyæ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>git hooks</code>ä¸å—ç‰ˆæœ¬æ§åˆ¶ï¼Œå³ä¸ä¼šæäº¤åˆ°<code>git</code>ä»“åº“ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ åˆ°<code>/.git/hooks</code>æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶åªä¼šåœ¨æœ¬åœ°ã€‚</p><p>é‚£ä¹ˆï¼Œå½“å›¢é˜Ÿæˆå‘˜å…‹éš†ä»“åº“æ—¶ä¸ä¼šè‡ªåŠ¨å°†æˆ‘ä»¬è‡ªå®šä¹‰çš„<code>git hooks</code>ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæˆ‘ä»¬åˆå¦‚ä½•ç¡®ä¿æ¯ä¸ªå›¢é˜Ÿæˆå‘˜éƒ½æ‰§è¡Œ<code>hooks</code>ï¼Ÿè§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•å°±æ˜¯ä½¿ç”¨<code>husky</code>ã€‚</p><p><code>husky</code>ä½¿<code>git hooks</code>æ›´æ˜“äºç®¡ç†ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¿…æ‰‹åŠ¨ç¼–å†™ä»£ç ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨<code>husky</code>æä¾›çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æƒ³è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œä¾‹å¦‚æäº¤ä¹‹å‰è¿è¡Œ<code>ESLint</code>ï¼Œé™¤æ­¤ä¹‹å¤–çš„ä¸€åˆ‡éƒ½ç”±<code>husky</code>å¤„ç†ã€‚</p><h2 id="éœ€è¦ä¸‹è½½çš„æ’ä»¶" tabindex="-1">éœ€è¦ä¸‹è½½çš„æ’ä»¶ <a class="header-anchor" href="#éœ€è¦ä¸‹è½½çš„æ’ä»¶" aria-label="Permalink to &quot;éœ€è¦ä¸‹è½½çš„æ’ä»¶&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">ä¾èµ–</th><th style="text-align:right;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;">husky</td><td style="text-align:right;">æ“ä½œ git hooksçš„å·¥å…·ï¼Œæ›´æ–¹ä¾¿çš„ç®¡ç† git hooks è„šæœ¬</td></tr><tr><td style="text-align:left;">lint-staged</td><td style="text-align:right;">åœ¨æäº¤ä¹‹å‰è¿›è¡Œ eslint æ ¡éªŒ</td></tr></tbody></table><h3 id="_1ã€husky-æ“ä½œ-git-é’©å­çš„å·¥å…·" tabindex="-1">1ã€huskyï¼ˆæ“ä½œ git é’©å­çš„å·¥å…·ï¼‰ <a class="header-anchor" href="#_1ã€husky-æ“ä½œ-git-é’©å­çš„å·¥å…·" aria-label="Permalink to &quot;1ã€huskyï¼ˆæ“ä½œ git é’©å­çš„å·¥å…·ï¼‰&quot;">â€‹</a></h3><p><strong>å®‰è£…husky</strong></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;husky&quot;: &quot;^9.1.6&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> husky</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>husky init</strong></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> husky</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>init</code> å‘½ä»¤ç®€åŒ–äº†é¡¹ç›®ä¸­çš„ <code>husky</code> è®¾ç½®ã€‚å®ƒä¼šåœ¨ <code>.husky/</code> ä¸­åˆ›å»º <code>pre-commit</code> è„šæœ¬ï¼š</p><p><img src="`+e+`" alt="alt text" loading="lazy"></p><p>å¹¶æ›´æ–° <code>package.json</code> ä¸­çš„ <code>prepare</code> è„šæœ¬ï¼š</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...å…¶ä»–ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;prepare&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;husky&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>éšåå¯æ ¹æ®ä½ çš„å·¥ä½œæµè¿›è¡Œä¿®æ”¹ã€‚</p><h3 id="_2ã€è®¾ç½®git-hooks" tabindex="-1">2ã€è®¾ç½®<code>git hooks</code> <a class="header-anchor" href="#_2ã€è®¾ç½®git-hooks" aria-label="Permalink to &quot;2ã€è®¾ç½®\`git hooks\`&quot;">â€‹</a></h3><p><code>husky</code>å®‰è£…å®Œæˆï¼Œå¹¶é…ç½®å¥½è„šæœ¬åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œ <code>git hooks</code> çš„è®¾ç½®ã€‚</p><p><code>git hooks</code>è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨<code>git</code>æ“ä½œçš„ç‰¹å®šå‘½ä»¤å‘ç”Ÿæ—¶è‡ªåŠ¨æ‰§è¡Œè‡ªå®šä¹‰çš„è„šæœ¬ï¼Œç”¨æ¥å®Œæˆä¸€äº›é¢å¤–çš„äº‹æƒ…ã€‚</p><p>è€Œæˆ‘ä»¬åœ¨<code>git</code>æäº¤ä¿¡æ¯çš„è§„èŒƒä¸­ï¼Œä¸€èˆ¬å¸¸ç”¨çš„ä¸¤ä¸ªé˜¶æ®µæ˜¯ï¼š<strong>pre-commit</strong> å’Œ <strong>commit-msg</strong></p><p>é™¤æ­¤ä»¥å¤–ï¼Œ<code>git hooks</code>è¿˜æœ‰å¤šä¸ªé˜¶æ®µï¼Œå¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™å¯ç”¨ï¼Œæ¯”å¦‚ä»¥ä¸‹è¿™äº›ï¼š</p><ul><li><code>pre-receive</code>ï¼šä»æœ¬åœ°ç‰ˆæœ¬å®Œæˆä¸€ä¸ªæ¨é€å</li><li><code>prepare-commit-msg</code>ï¼šä¿¡æ¯å‡†å¤‡å®Œæˆåä½†ç¼–è¾‘å°šæœªå¯åŠ¨</li><li><code>pre-push</code>ï¼š<code>push</code> ä¹‹å‰æ‰§è¡Œ</li><li><code>post-update</code>ï¼šåœ¨å·¥ä½œåŒºæ›´æ–°å®Œæˆåæ‰§è¡Œ</li><li><code>pre-rebase</code>ï¼šåœ¨<code>rebase</code>æ“ä½œä¹‹å‰æ‰§è¡Œ</li></ul><h2 id="pre-commit" tabindex="-1">pre-commit <a class="header-anchor" href="#pre-commit" aria-label="Permalink to &quot;pre-commit&quot;">â€‹</a></h2><p>ä¸Šé¢ä»‹ç»ä¸­ï¼Œæåˆ°<code>husky</code>å·¥å…·ä¼šåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆ <code>.husky</code> ç›®å½•ï¼Œä¿å­˜æœ‰<code>husky</code>çš„åŸºæœ¬é…ç½®ã€‚è¦æƒ³é…ç½® <code>git hooks</code>ï¼Œè¿˜å¾—åœ¨è¿™ä¸ªç›®å½•ä¸‹è¿›è¡Œæ“ä½œï¼Œå¯ä»¥é‡‡å–ä¸‹é¢ä¸¤ç§æ–¹å¼ã€‚</p><ol><li>æˆ‘ä»¬å¯ä»¥åœ¨åˆšåˆšç”Ÿäº§çš„ <code>.husky</code> ç›®å½•ä¸‹çš„<code>pre-commit</code>æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œ<strong>æ³¨æ„æ— åç¼€å</strong>ï¼Œé»˜è®¤ç”Ÿäº§çš„<code>pre-commit</code>æœ‰<code>pnpm test</code>å†…å®¹ï¼Œå°†å…¶åˆ é™¤æ”¹æˆä»¥ä¸‹å†…å®¹ï¼š</li></ol><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint:eslint</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>ä½¿ç”¨è„šæœ¬å‘½ä»¤ç”Ÿæˆ<code>pre-commit</code>æ–‡ä»¶åŠå…¶å†…å®¹ï¼š</li></ol><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># V9</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;pnpm run lint:eslint&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .husky/pre-commit</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¯¥è„šæœ¬æ‰§è¡Œåï¼Œå°†åœ¨ <code>.husky</code> ç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆ <code>pre-commit</code> æ–‡ä»¶ï¼ˆå¦‚æœæœ‰åˆ™è¦†ç›–ï¼‰ï¼Œå¹¶ä¸”å†™å…¥å¯¹åº”çš„è„šæœ¬å‘½ä»¤ï¼š<code>pnpm run lint:eslint</code>ï¼Œå†…å®¹ä¸ä¸Šé¢çš„ç¬¬ä¸€ç§æ–¹å¼ä¸€æ ·ã€‚</p><p>å®Œæˆä»¥ä¸Šæ“ä½œåï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ <code>git commit</code> å‘½ä»¤æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨æ‰§è¡Œ<code>eslint</code>å‘½ä»¤ã€‚é™¤äº†<code>eslint</code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é…ç½®å…¶ä»–è¯¸å¦‚ <code>stylelint</code>ã€<code>prettier</code> ç­‰ã€‚</p><ol start="3"><li>å¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œå¦‚ä¸‹å›¾ï¼š</li></ol><p><img src="`+l+`" alt="alt text" loading="lazy"></p><p>åº”è¯¥é‡æ–°æ‰§è¡Œ<code>pnpm exec husky init</code>ï¼Œè¿™ä¸ªé”™è¯¯é€šå¸¸æ˜¯å› ä¸º <code>.husky/pre-commit</code> è„šæœ¬æ²¡æœ‰æ­£ç¡®çš„æ‰§è¡Œæƒé™æˆ–è€…æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®å¯¼è‡´ã€‚</p><ol start="4"><li><code>lint-staged</code></li></ol><p>ä½¿ç”¨ <code>husky</code> åï¼Œ<code>ESLint</code>ä¼šåœ¨é¡¹ç›®ä¸­çš„æ¯ä¸ªæ–‡ä»¶ä¸Šéƒ½è¿è¡Œï¼Œè¿™æ˜¯ä¸ªéå¸¸ç³Ÿç³•çš„ä¸»æ„ã€‚å› ä¸ºåœ¨æœªæ›´æ”¹çš„ä»£ç ä¸Šè¿è¡Œ<code>ESLint</code>å¯èƒ½ä¼šå¯¼è‡´å‡ºä¹é¢„æ–™çš„é”™è¯¯ã€‚</p><p>å¯¹äºå¤§å‹é¡¹ç›®ï¼Œåœ¨æ¯ä¸ªæ–‡ä»¶ä¸Šè¿è¡Œ<code>ESLint</code>å¯èƒ½ä¼šæ¶ˆè€—å¤§é‡çš„æ—¶é—´ã€‚åŒæ ·ï¼Œåœ¨æ—§é¡¹ç›®ä¸­æ¶ˆè€—æ—¶é—´è§£å†³<code>ESLint</code>æŠ›å‡ºçš„é—®é¢˜è€Œä¸æ˜¯ç ”å‘æ–°åŠŸèƒ½ï¼Œæ˜¯æ²¡æ„ä¹‰çš„äº‹ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•åªåœ¨æˆ‘ä»¬<strong>æ›´æ”¹çš„ä»£ç </strong>ä¸Šè¿è¡Œ <code>ESLint</code>?</p><p>ç­”æ¡ˆæ˜¯<strong>lint-staged</strong>ã€‚å®ƒçš„ä½œç”¨æ˜¯<strong>åªåœ¨å½“å‰æäº¤ä¸­å¯¹å·²æ›´æ”¹çš„æ–‡ä»¶è¿è¡Œ</strong> <code>pre-commit hooks</code>ã€‚å¹¶ä¸”è¿˜èƒ½å¯¹ä»£ç è¿›è¡Œæ›´å¤šçš„è®¾ç½®ï¼Œæ¯”å¦‚ä½¿ç”¨ <code>prettier</code> æ ¼å¼åŒ–ä»£ç </p><h3 id="å®‰è£…" tabindex="-1">å®‰è£… <a class="header-anchor" href="#å®‰è£…" aria-label="Permalink to &quot;å®‰è£…&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint-staged</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="ä¿®æ”¹pre-commitæ–‡ä»¶å†…å®¹" tabindex="-1">ä¿®æ”¹<code>pre-commit</code>æ–‡ä»¶å†…å®¹ <a class="header-anchor" href="#ä¿®æ”¹pre-commitæ–‡ä»¶å†…å®¹" aria-label="Permalink to &quot;ä¿®æ”¹\`pre-commit\`æ–‡ä»¶å†…å®¹&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint:lint-staged</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="åœ¨package-jsonæ–‡ä»¶ä¸­æ·»åŠ scriptsè„šæœ¬" tabindex="-1">åœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ scriptsè„šæœ¬ <a class="header-anchor" href="#åœ¨package-jsonæ–‡ä»¶ä¸­æ·»åŠ scriptsè„šæœ¬" aria-label="Permalink to &quot;åœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ scriptsè„šæœ¬&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //å…¶ä»–ä»£ç çœç•¥</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;lint:lint-staged&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lint-staged&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="æ–°å¢-lint-staged-config-cjs-æ–‡ä»¶" tabindex="-1">æ–°å¢ lint-staged.config.cjs æ–‡ä»¶ <a class="header-anchor" href="#æ–°å¢-lint-staged-config-cjs-æ–‡ä»¶" aria-label="Permalink to &quot;æ–°å¢ lint-staged.config.cjs æ–‡ä»¶&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;*.{js,jsx,ts,tsx}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eslint --fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;{!(package)*.json,*.code-snippets,.!(browserslist)*rc}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write--parser json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;package.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;*.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eslint --fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stylelint --fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;*.{scss,less,styl,html}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stylelint --fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;*.md&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å¦‚æœä»…ä»…åªæ˜¯ç®€å•é…ç½®ä¸€ä¸‹<code>lint-staged</code>ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨<code>package.json</code>æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p><blockquote><p><code>.cjs</code> æ–‡ä»¶å…¶å®å°±æ˜¯<code>js</code>æ–‡ä»¶ï¼Œåªæ˜¯æ›´åŠ æ˜æ˜¾çš„è¯´æ˜è¿™æ˜¯ä¸€ä¸ªæ¨¡å—æ–‡ä»¶ï¼Œå¹¶ä¸”æ¨¡å—å£°æ˜éµå¾ªçš„æ˜¯<code>CommonJSçš„æ ‡å‡†</code>ã€‚å› æ­¤åŒç†ï¼Œä¹Ÿæœ‰ <code>.mjs</code> çš„æ–‡ä»¶ï¼Œè¡¨æ˜è¿™ä¸ªæ–‡ä»¶æ˜¯éµå¾ª<code>ESMæ ‡å‡†</code>ï¼ˆECMAScript Modulesï¼‰çš„æ¨¡å—æ–‡ä»¶ã€‚</p></blockquote><p><strong>ç®€å•å›¾ç¤º</strong></p><ol><li>.JS (JavaScript):</li></ol><p><img src="`+p+'" alt="alt text" loading="lazy"></p><ol start="2"><li>CJS (CommonJS):</li></ol><p><img src="'+h+'" alt="alt text" loading="lazy"></p><ol start="3"><li>MJS (ECMAScript Modules)ï¼š</li></ol><p><img src="'+k+'" alt="alt text" loading="lazy"></p><h2 id="æµ‹è¯•" tabindex="-1">æµ‹è¯• <a class="header-anchor" href="#æµ‹è¯•" aria-label="Permalink to &quot;æµ‹è¯•&quot;">â€‹</a></h2><p>å®Œæˆäº†ä¸Šé¢çš„æ‰€æœ‰æ­¥éª¤ï¼Œæ‰§è¡Œå‘½ä»¤æµ‹è¯•</p><p><img src="'+r+`" alt="alt text" loading="lazy"></p><p>ä»£ç ç¤ºä¾‹ï¼š</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ±‚limitèŒƒå›´å†…çš„è´¨æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> noA </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sieveOfEratosthenes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numRes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isPrime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> limit; num</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (isPrime[num]) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num; multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> limit; multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        isPrime[multiple] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime[num]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>æ³¨æ„å¿…é¡»å…ˆ<code>git add .</code>ï¼Œå¦åˆ™å‘½ä»¤ä¼šæç¤º<code>â†’ No staged files found.</code></p><p><code>git add .</code> ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨<code>git commit</code>æäº¤ï¼Œè§¦å‘<code>pre-commit</code>é’©å­ï¼Œçœ‹çœ‹ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µ</p><p><img src="`+d+'" alt="alt text" loading="lazy"></p><p>åœ¨<code>git commit</code>çš„æ—¶å€™ï¼Œä¹‹å‰æˆ‘ä»¬åœ¨<code>.eslintrc.cjs</code>ä¸­å®šä¹‰ä¸º<code>error</code>çš„é¡¹ï¼Œç›´æ¥å¸®æˆ‘ä»¬å®šä¹‰é”™è¯¯ï¼Œç”±äºå‰é¢å·²ç»åšè¿‡äº†æ ¼å¼åŒ–å¤„ç†ï¼Œæ‰€ä»¥è¿™é‡Œåªæ˜¯æ˜¾ç¤ºäº†ä¸€äº›é”™è¯¯è­¦å‘Šï¼Œå›¾ä¸­æç¤ºä»£ç ä¸­æœ‰2ä¸ªæœªä½¿ç”¨çš„å˜é‡ï¼Œä¿®æ”¹åï¼š</p><p><img src="'+o+`" alt="alt text" loading="lazy"></p><p>ä»£ç ç¤ºä¾‹ï¼š</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// test.js</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ±‚limitèŒƒå›´å†…çš„è´¨æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sieveOfEratosthenes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isPrime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> limit; num</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (isPrime[num]) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num; multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> limit; multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        isPrime[multiple] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isPrime[num]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>æŒ‰æ­¥éª¤æ‰§è¡Œå‘½ä»¤ï¼Œå›¾ç¤º:</p><ol><li><code>git add . </code>: æäº¤ä¿®æ”¹ï¼›</li><li><code>git commit -m &quot;ğŸ”§ build(husky): husky+git hooksåˆæ­¥æ„å»ºå®Œæˆ&quot;</code>ï¼šæäº¤æœ¬æ¬¡ä¿®æ”¹ä¿¡æ¯</li><li><code>pnpm run lint:lint-staged</code>ï¼šç”±äºæˆ‘ä»¬é…ç½®äº†<code>husky</code> ï¼Œ <code>pre-commit</code> ä¼šè‡ªåŠ¨æŠ“å–<code>git hooks</code>çš„<code>commit</code>å‘½ä»¤ï¼Œä»è€Œè§¦å‘æ‰§è¡Œ <code>pnpm run lint:lint-staged</code> å‘½ä»¤ï¼Œå¹¶ä¸” <code>lint-staged</code> ä¼šæ ¹æ® <code>lint-staged.config.cjs</code> æ–‡ä»¶è¿›è¡Œæ–‡ä»¶æ‰«æå—ï¼Œæš‚å­˜æäº¤çš„æ–‡ä»¶é€šè¿‡å„é¡¹æ‰«æåå°±ä¼šæäº¤åˆ°æœ¬åœ°ä»“åº“</li></ol><p><img src="`+c+'" alt="alt text" loading="lazy"></p><h3 id="åç»­ç¯‡ç« è®²è§£" tabindex="-1">åç»­ç¯‡ç« è®²è§£ <a class="header-anchor" href="#åç»­ç¯‡ç« è®²è§£" aria-label="Permalink to &quot;åç»­ç¯‡ç« è®²è§£&quot;">â€‹</a></h3><p>ä¹Ÿè®¸ä½ ä¼šå‘ç°ï¼Œä¸Šå›¾çš„ <code>git commit -m &quot;ğŸ”§ build(husky): husky+git hooksåˆæ­¥æ„å»ºå®Œæˆ&quot;</code> â€”â€” æäº¤çš„å†…å®¹ä¿¡æ¯æ¯”è¾ƒè§„èŒƒã€‚é‚£ä¹ˆä¸‹ä¸€ç¯‡å†…å®¹ç€é‡è®²è§£ <code>git</code> çš„æäº¤è§„èŒƒã€‚</p>',80),y=[u];function m(F,A,C,B,D,v){return a(),i("div",null,y)}const b=s(E,[["render",m]]),f=Object.freeze(Object.defineProperty({__proto__:null,__pageData:g,default:b},Symbol.toStringTag,{value:"Module"}));export{f as _,g as __pageData,b as default};
