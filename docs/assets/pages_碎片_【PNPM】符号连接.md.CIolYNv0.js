import{_ as s,c as i,o as a,a5 as n}from"./chunks/framework.CkGECXPw.js";const l=JSON.parse('{"title":"符号链接","description":"“pnpm link” 是符号链接（symbolic link）。符号链接是一种特殊的文件类型，它指向另一个文件或目录的路径。在使用 “pnpm link” 时，它创建的符号链接允许在不同的项目之间快速共享和引用本地的包，而无需进行实际的复制操作。这种方式可以方便开发过程中的调试和代码复用。","frontmatter":{"title":"符号链接","description":"“pnpm link” 是符号链接（symbolic link）。符号链接是一种特殊的文件类型，它指向另一个文件或目录的路径。在使用 “pnpm link” 时，它创建的符号链接允许在不同的项目之间快速共享和引用本地的包，而无需进行实际的复制操作。这种方式可以方便开发过程中的调试和代码复用。"},"headers":[],"relativePath":"pages/碎片/【PNPM】符号连接.md","filePath":"pages/碎片/【PNPM】符号连接.md","lastUpdated":1735956516000}'),e={name:"pages/碎片/【PNPM】符号连接.md"},p=n(`<h1 id="符号链接" tabindex="-1">符号链接 <a class="header-anchor" href="#符号链接" aria-label="Permalink to &quot;符号链接&quot;">​</a></h1><nav class="table-of-contents"><ul><li><a href="#什么是符号链接">什么是符号链接</a></li><li><a href="#链接步骤">链接步骤</a></li><li><a href="#调试阶段">调试阶段</a></li><li><a href="#释放阶段">释放阶段</a></li></ul></nav><h2 id="什么是符号链接" tabindex="-1">什么是符号链接 <a class="header-anchor" href="#什么是符号链接" aria-label="Permalink to &quot;什么是符号链接&quot;">​</a></h2><p>符号链接是一种特殊的文件类型，它指向另一个文件或目录的路径。在使用 <code>pnpm link</code> 时，它创建的符号链接允许在不同的项目之间快速共享和引用本地的包，而无需进行实际的复制操作。</p><p>这种方式可以方便开发过程中的调试和代码复用。</p><h2 id="链接步骤" tabindex="-1">链接步骤 <a class="header-anchor" href="#链接步骤" aria-label="Permalink to &quot;链接步骤&quot;">​</a></h2><blockquote><p>设<code>A</code>为<code>链接包</code>，<code>B</code>为<code>项目</code>。</p></blockquote><ol><li>在<code>A</code>根目录执行：</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>在<code>B</code>根目录执行：</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">packag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>包名<code>&lt;package&gt;</code>就是<code>package.json</code>中<code>name</code>字段：</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-5oqH3" id="tab-oCSj_7o" checked><label for="tab-oCSj_7o">package.json</label></div><div class="blocks"><div class="language-json vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vinca-ui&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 包名</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;private&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div></div><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>完整的执行命令应该如下：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vinca-ui</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 注意：包名不需要添加双引号</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><h2 id="调试阶段" tabindex="-1">调试阶段 <a class="header-anchor" href="#调试阶段" aria-label="Permalink to &quot;调试阶段&quot;">​</a></h2><ol><li>在<code>A</code>执行<code>pnpm link --global</code>:</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\Users\\yongjian1.luo\\AppData\\Local\\pnpm\\global\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ui </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">220</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\vinca\\work\\x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ui</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>回收<code>A</code>构建的<code>dist</code>文件目录，重新构建</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">✓ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">188</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> modules transformed.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">style.css     </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19.48</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kB │ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gzip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.23</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index.es.js  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">189.02</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kB │ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gzip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">45.85</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">style.css      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19.48</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kB │ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gzip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.23</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dist</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index.cjs.js  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">141.85</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kB │ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gzip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">39.23</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">✓ built </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 7.14s</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="3"><li>在<code>B</code>执行<code>pnpm link --global xw-ui</code></li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\Users\\yongjian1.luo\\AppData\\Local\\pnpm\\global\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ui </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">220</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node_modules\\xw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ui</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="4"><li>重新运行<code>B</code> , <code>pnpm run dev</code></li></ol><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>如果<code>B</code>插队，即在第<code>1</code>步之前去执行<code>pnpm link --global xw-ui</code>，会报错：</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark has-highlighted vp-code" tabindex="0"><code><span class="line highlighted error"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ERR_PNPM_NO_IMPORTER_MANIFEST_FOUND</span></span>
<span class="line highlighted error"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">No package.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (or package.yaml, or package.json5) was found </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span></span>
<span class="line highlighted error"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ongjian1.luo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ppData</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ocal</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobal</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\5\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ode_modules</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">w-ui&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">. </span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>中途<code>A</code>的<code>dist</code>文件内容发生变动，会热影响<code>B</code>。 由此得出，无论先构建<code>A</code>的产物，还是构建了<code>A</code>的产物再在<code>A</code>创建符号链接，都不影响实现。</p></div><h2 id="释放阶段" tabindex="-1">释放阶段 <a class="header-anchor" href="#释放阶段" aria-label="Permalink to &quot;释放阶段&quot;">​</a></h2><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">packag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>如果要删除使用 <code>pnpm link --global &lt;package&gt;</code>建立的链接，则应使用 <code>pnpm uninstall --global &lt;package&gt;</code>。 <code>pnpm unlink</code> 仅删除当前目录中的链接。</p></div>`,27),t=[p];function h(d,r,o,c,g,E){return a(),i("div",null,t)}const k=s(e,[["render",h]]),F=Object.freeze(Object.defineProperty({__proto__:null,__pageData:l,default:k},Symbol.toStringTag,{value:"Module"}));export{F as _,l as __pageData,k as default};
